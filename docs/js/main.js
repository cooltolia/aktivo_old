jQuery,$.noConflict(),jQuery(document).ready(function(e){var t,a,n,i,s,o,l,r,c;e("body").removeClass("pageload"),t=e(".authorization__toggle"),a=e(".authorization__logged"),n=e(".authorization__list"),a.on("click",function(){t.toggleClass("active"),n.hasClass("active")?(n.slideUp(),n.removeClass("active")):(n.slideDown(),n.addClass("active"))}),i=d3.format(".2f"),s=function(e){return e+="",(e=new Array(4-e.length%3).join("U")+e).replace(/([0-9U]{3})/g,"$1 ").replace(/U/g,"")},o=new Highcharts.chart("top_x_div",{chart:{type:"column",backgroundColor:"rgba(255, 255, 255, 0)"},title:{text:""},colors:["#e7acee","#f0d561","#8589f8","#aaed96"],legend:{align:"left",itemDistance:20,itemStyle:{font:'12px "Segoe UI"',color:"#000"},useHTML:!0,labelFormatter:function(){return'<span title="'+this.name+'"><span class="gals"></span>'+this.name+"</span>"}},xAxis:{categories:["2018","2019","2020","2021","2022","2023","2024","2025","2026","2027","2028","2029","2030","2031","2032","2033","2034","2035","2036","2037","2038","2039","2040","2041"]},yAxis:{min:0,title:{text:""}},tooltip:{pointFormatter:function(){var e=this.series.name,t=this.series.chart.series.slice(-1)[0].data[0].y;return'<div class="row"><div class="label">'+e+'</div><div class="proc">'+(1===this.series.index||3===this.series.index?"":i(this.y/t*100)+"%")+'</div><div class="income">'+s(this.y)+"  р.</div></div>"},shared:!0,useHTML:!0,valueDecimal:0},plotOptions:{column:{stacking:"total"}},series:[{name:"Рентный доход",data:[]},{name:"Накопленный рентный доход",data:[]},{name:"Рост стоимости",data:[]},{name:"Стоимость актива",data:[]}]}),l={rentKoeff:[.11,.116,.121,.127,.134,.14,.147,.155,.163,.171],capKoeff:[0,.05,.05,.05,.05,.05,.05,.05,.05,.05]},e("input#summ1-range").rangeslider({polyfill:!1,onSlide:function(e,t){r(1,t,!0)},onSlideEnd:function(e,t){r(1,t,!1)}}),e("input#summ2-range").rangeslider({polyfill:!1,onSlide:function(e,t){r(2,t,!0)},onSlideEnd:function(e,t){r(2,t,!1)}}),(r=function(t,a,n){void 0===n&&(n=!1);var r=e("#summ1-range"),c=1===t?a:r.val(),d=e("#summ2-range"),u=2===t?a:d.val(),m=function(e,t,a){for(var n=t,i=0;i<e;i++)0===i?n/=a.rentKoeff[i]:n+=n*a.capKoeff[i];return Math.ceil(n)}(1,c,l),p=function(e,t,a){for(var n=[],i=[],s=[],o=[],l=0;l<t;l++)n[l]=0===l?Math.ceil(e):Math.ceil(n[l-1]+s[l-1]),i[l]=Math.ceil(e*a.rentKoeff[l]),o[l]=0===l?0:o[l-1]+i[l-1],s[l]=0===l?0:Math.ceil(n[l]*a.capKoeff[l]);return{capitalization:s,rent:i,accumulated_rent:o,investment:n}}(m,u,l);!1===n&&(o.series[0].setData(p.rent),o.series[1].setData(p.accumulated_rent),o.series[2].setData(p.capitalization),o.series[3].setData(p.investment));var f=p.accumulated_rent[u-1]+p.rent[u-1],v=100*f/m,h=p.capitalization.reduce(function(e,t){return e+t}),g=(p.investment[u-1]+p.capitalization[u-1]-m)/m*100,y=f+p.investment[u-1]+p.capitalization[u-1],b=(y-m)/m*100;e("#summ2, #vyear").text(function(e){switch(parseInt(e)){case 1:return"1 год";case 2:case 3:case 4:return e+" года";default:return e+" лет"}}(u)),e("#result1").text(s(y)),e("#result1_percent").text("+"+i(b)+"%"),e("#result2").text(s(f)),e("#result2_percent").text("+"+i(v)+"%"),e("#result3").text(s(h)),e("#result3_percent").text("+"+i(g)+"%"),e("#result4").text(s(m)),e("#summ1").html(s(c)),e("#summ1-scroll").find(".rangeslider__handle").html('<div class="tooltip2"><div class="title">Инвестировать от</div><div class="summ-t">'+s(m)+'<span class="ruble"/></div></div>'),c>=19e5?e("#summ1-scroll").addClass("no-right"):e("#summ1-scroll").removeClass("no-right")})(),c=e(".mobile-nav"),e(".hamburger").click(function(){e(this).toggleClass("active"),c.toggleClass("active"),c.hasClass("active")?(c.fadeIn(),e("body").css("overflow","hidden")):(c.fadeOut(),e("body").css("overflow","auto"))}),function(){function t(){e(".invest-steps__list").slick({mobileFirst:!0,slidesToShow:1,arrows:!1,dots:!1,infinite:!0,variableWidth:!0,autoplay:!0,autoplaySpeed:3e3,responsive:[{breakpoint:768,settings:{slidesToShow:2.1,variableWidth:!1,centerMode:!0,centerPadding:"30px"}},{breakpoint:1024,settings:{slidesToShow:3.05,variableWidth:!1,centerMode:!0,centerPadding:"30px"}},{breakpoint:1240,settings:"unslick"}]})}t();var a,n,i,s,o=(a=function(){e(".invest-steps__list").hasClass("slick-initialized")||t()},n=250,function(){var e=this,t=arguments,o=i&&!s;clearTimeout(s),s=setTimeout(function(){s=null,i||a.apply(e,t)},n),o&&a.apply(e,t)});window.addEventListener("resize",o)}(),function(){e(".mobile-nav");var t=e(".mobile-nav__link"),a=e(".mobile-nav__sublink");t.each(function(){e(this).next("ul").length>0&&e(this).addClass("has-submenu")}),t.on("click",function(t){var a=e(this).next();a.length>0&&(t.preventDefault(),t.stopPropagation(),a.toggleClass("opened"),e(this).addClass("has-submenu"),e(this).toggleClass("opened"),a.hasClass("opened")?a.slideDown():a.slideUp())}),a.on("click",function(t){t.preventDefault(),t.stopPropagation();var a=e(this).next();a.toggleClass("opened"),a.hasClass("opened")?a.slideDown():a.slideUp()})}(),e(window).on("load",function(){var t,a,n=17;e(window).width()<480&&(n=16),a=[55.772405830765955,37.63848997486877];e("#map"),e(".map__fallback");var i=e(".map__info-header"),s=e(".map__info-body");e(window).width()<="767"&&i.on("click",function(){i.hasClass("js-expanded")?(s.slideUp(),i.removeClass("js-expanded")):(i.addClass("js-expanded"),s.slideDown())});function o(){if(void 0===ymaps.geocode)return 0,l();ymaps.ready(function(){ymaps.geocode(a).then(function(e){t=new ymaps.Map("map",{center:e.geoObjects.get(0).geometry.getCoordinates(),zoom:n});var i=a;multiRoute=new ymaps.multiRouter.MultiRoute({referencePoints:[[55.77295318071541,37.63288889128495],i],params:{routingMode:"pedestrian"}},{wayPointIconLayout:"none",routeActivePedestrianSegmentStrokeStyle:"solid",routeActiveStrokeColor:"3aa5ed",pinActiveIconFillColor:"000000"});var s=new ymaps.Placemark(t.getCenter(),{hintContent:"Большая Сухаревская площадь, дом 9",balloonContent:"Большая Сухаревская площадь, дом 9"},{iconLayout:"default#image",iconImageHref:"../images/map-icon.svg",iconImageSize:[20,30],iconImageOffset:[-10,-30]});(function(e){return new ymaps.vow.Promise(function(t,a){var n=function(e){for(var t in e)if(e.hasOwnProperty(t)&&(e[t]instanceof ymaps.layer.tileContainer.CanvasContainer||e[t]instanceof ymaps.layer.tileContainer.DomContainer))return e[t];return null}(e),i=!0;n.tiles.each(function(e,t){e.isReady()||(i=!1)}),i?t():n.events.once("ready",function(){t()})})})(t.layers.get(0).get(0)).then(function(){}),t.geoObjects.add(s),t.geoObjects.add(multiRoute),t.behaviors.disable("scrollZoom")})})}var l=function(){var e,t,a;e="https://api-maps.yandex.ru/2.1/?lang=ru_RU&load=Map&loadByRequire=1",t=function(){ymaps.load(o)},(a=document.createElement("script")).readyState?a.onreadystatechange=function(){"loaded"!=a.readyState&&"complete"!=a.readyState||(a.onreadystatechange=null,t())}:a.onload=function(){t()},a.src=e,document.getElementsByTagName("head")[0].appendChild(a)};e(function(){l()})}),e(".modal").each(function(){e(this).on("shown.bs.modal",function(t){"modal2"===t.target.getAttribute("id")&&"function"==typeof grecaptcha.execute&&grecaptcha.execute();var a=e(this).find("input")[0];a&&a.focus();var n=e(this).find('input[name="phone"]'),i=e(this).find('button[name="submit"]');Inputmask.isValid(n.val(),{inputFormat:"+7 (999) 999 99 99"})&&i.attr("disabled",!1),n.inputmask("+7 (999) 999 99 99",{onKeyValidation:function(e,t){},oncomplete:function(){i.attr("disabled",!1)},onincomplete:function(){i.prop("disabled",!0)}})})}),e("#modal5").on("show.bs.modal",function(t){var a=e(t.relatedTarget),n=a.data("service"),i=a.data("button"),s=e(this);s.find('input[name="service"]').val(n),s.find('button[name="submit"]').text(i)}),e(".object-select__slider-cards").slick({slidesToShow:1,slidesToScroll:1,arrows:!0,fade:!1,asNavFor:".object-select__slider-nav",adaptiveHeight:!0,autoplay:!0,autoplaySpeed:3e3}),e(".object-select__slider-nav").slick({slidesToShow:4,slidesToScroll:1,asNavFor:".object-select__slider-cards",dots:!1,arrows:!1,focusOnSelect:!0,responsive:[{breakpoint:1240,settings:{slidesToShow:3}},{breakpoint:1024,settings:{slidesToShow:2,centerMode:!0,centerPadding:"5px"}},{breakpoint:480,settings:{slidesToShow:1,centerMode:!0,centerPadding:"5px"}}]}),function(){ll=new LazyLoad({threshold:500,elements_selector:".lazyload",callback_enter:function(e){var t=function(e){var t=document.createElement("img");return t.setAttribute("src",e),t}(e.getAttribute("data-src"));t.addEventListener("load",function a(n){e.classList.add("loaded"),e.classList.remove("loading"),t.removeEventListener("load",a)}),e.classList.add("loading")},callback_error:function(e){e.src="https://placeholdit.imgix.net/~text?txtsize=21&txt=Fallback%20image&w=280&h=280"}})}()});